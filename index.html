<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>VA TUBE</title>
  <meta property="og:title" content="VA TUBE" />
  <meta property="og:description" content="Vatube adalah platform inovatif yang dirancang untuk memberikan pengalaman menonton video terbaik. Dengan antarmuka modern" />
  <meta property="og:image" content="https://your-domain.com/path-to-image.jpg" />
  <meta property="og:image:alt" content="Description of the image" />
  <meta property="og:url" content="https://vatube.ltsstudio.xyz" />
  <meta property="og:type" content="website" />
  <meta property="og:locale" content="en_US" />
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:title" content="VA TUBE" />
  <meta name="twitter:description" content="Vatube adalah platform inovatif yang dirancang untuk memberikan pengalaman menonton video terbaik. Dengan antarmuka modern" />
  <meta name="twitter:image" content="https://your-domain.com/path-to-image.jpg" />

  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
  <style>
    /* CSS Reset */
* { margin: 0; padding: 0; box-sizing: border-box; }

/* Full Page Setup */
body, html {
  height: 100%;
  width: 100%;
}

/* Gradient Background */
body {
  background: white;
  color: #fff;
  font-family: Arial, sans-serif;
}

/* Navbar Styling */
.navbar {
  position: fixed;
top: 0;
  
  width: 100%;
  display: flex;
  align-items: center;
  justify-content: space-between;
  border-bottom: 2px solid black;color:black;
  border-bottom-right-radius: 0px;
  background-color: rgba(255, 255, 255, 0.6); /* Opaque background */
  padding: 15px 20px;backdrop-filter: blur(20px); /* Creates the blur effect */
  -webkit-backdrop-filter: blur(10px);
  z-index: 1000;
}

.logo {
  color: #000;
  font-size: 24px;
  font-weight: bold;
}

.search-container {
  display: flex;
  align-items: center;
  width: 60%;
  max-width: 500px;
}

.search-container input {
  flex: 1;
  border: 0.3px solid white;
  padding: 8px;
  background: white;
  color: #03c292;border:2px solid black;
  width: 140px;
  border-radius: 20px 0 0 20px;
  outline: none;
}

.search-button {
  background: linear-gradient(to bottom ,#0293ff,#0393ff,#03C292);
  border: none;
  padding: 10px 11px;
  color: white;
  border-radius: 0 20px 20px 0;
  cursor: pointer;
}

.search-button i {
  font-size: 16px;
}

/* Search Results Container */
.results-container {
  padding: 80px 20px 20px;
  display: grid;
  grid-template-columns: 1fr; /* Default to 1 column on small screens */
  gap: 20px;
}

.video-container {
  padding: 20px;
  display: grid;
  grid-template-columns: 1fr; /* Default to 1 column on small screens */
  gap: 20px;
}

/* Two-column grid for medium-sized screens (e.g., tablets) */
@media (min-width: 768px) and (max-width: 1023px) {
  .results-container {
    grid-template-columns: 1fr 1fr; /* Two columns for tablets */
  }
  .video-container {
    grid-template-columns: 1fr 1fr; /* Two columns for tablets */
  }
}

/* Three-column grid for larger screens (e.g., desktop, TV) */
@media (min-width: 1024px) {
  .results-container {
    grid-template-columns: 1fr 1fr 1fr; /* Three columns for larger screens */
  }
  .video-container {
    grid-template-columns: 1fr 1fr 1fr; /* Three columns for larger screens */
  }
}

.result-item {
  cursor: pointer;
  padding: 12px;
  background-color: #fff;
  margin-bottom: 15px;
  border-radius: 15px;
  color: black;
  box-shadow: 0px 4px 6px rgba(0, 0, 0, 0.1), 0px 1px 3px rgba(0, 0, 0, 0.06);
  transition: background-color 0.3s ease, box-shadow 0.3s ease;
  width: 100%;
  border: none;
  box-sizing: border-box;
  text-decoration: none;
}

.result-item:hover {
  background-color: #f9f9f9;
  box-shadow: 0px 6px 10px rgba(0, 0, 0, 0.15), 0px 2px 5px rgba(0, 0, 0, 0.1);
}

.thumbnail {
  position: relative;
  display: block;
  width: 100%;
  height: 200px;
  border-radius: 15px;
  margin-right: 15px;
}

.thumbnail img {
  width: 100%;
  height: 100%;
  border-radius: 14px;
}

.video-duration {
  position: absolute;
  bottom: 5px;
  right: 5px;
  padding-left: 9px;
  padding-top: 5px;
  padding-bottom: 5px;
  padding-right: 9px;
  background-color: rgba(255, 255, 255, 0.3);
  color: #000;
  font-weight: bold;
  backdrop-filter: blur(60px); /* Creates the blur effect */
  -webkit-backdrop-filter: blur(10px);
  border-radius: 38px;
  font-size: 12px;
}

.result-info {
  flex: 1;
}



.vsideo-container {
  cursor: pointer;
  padding: 12px;
  background-color: #fff; /* Dark transparent */
  margin-bottom: 15px;
  border-radius: 16px;
  color: black;box-shadow:0px 0px 5px black;
  transition: background-color 0.3s ease;
  width: 100%;
  box-sizing: border-box;
  text-decoration: none;
}

.result-item:hover {
  background-color: #000;
  color:  cyan;
}

.result-title {
  font-size: 15px;
  font-weight: bold;
  margin-top: 8px;
  word-wrap: break-word; /* Memaksa kata panjang untuk berpindah baris */
  overflow-wrap: break-word; /* Alternatif yang lebih modern */
}

.result-profile {
  display: flex;
  align-items: center;
  color: darkblue;
  margin-top: 19px;
  font-size: 12px;
}
.result-profile:hover {
  background-color: #000;
  color:  cyan;
}
.profile-pic {
  width: 24px;
  height: 24px;
  border-radius: 50%;
  margin-right: 8px;
}

.huis {
  font-size: 10px;padding:5px;border-radius:39px;padding-right:10px;padding-left:10px;
  margin-left: 10px;font-weight:bold;
  color: white; background: linear-gradient(to bottom ,#0293ff,#0393ff,#03C292);
}

/* Fullscreen Video */
.fullscreen-video {
  display: none;
  position: fixed;
  top: 0;
  left: 0;
  width: 100vw;
  height: 100vh;
  background-color: #000;
  z-index: 1001;
  justify-content: center;
  align-items: center;
}

.fullscreen-video iframe {
  width: 100%;
  height: 100%;
  border: none;
}

/* Back Button */
.back-button {
  position: absolute;
  top: 70px;
  left: 10px;
  background: linear-gradient(to bottom ,#0293ff,#0393ff,#03C292);
  color: black;
  padding: 10px;
  border-radius: 40px;
  width: 100px;
  cursor: pointer;
  outline: none;
  border: 1px solid black;
  font-size: 20px;
  z-index: 1002;
}
        .dropdown-container {
            margin-top: 20px;
            padding: 10px;
            background-color: #333333;
            border-radius: 10px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: space-between;
            transition: background-color 0.3s ease;
        }

        .dropdown-container:hover {
            background-color: #444444;
        }

        .dropdown-container p {
            margin: 0;
            font-size: 1rem;
            color: #ffffff;
        }

        .dropdown-content {
            opacity: 0;
            max-height: 0;
            margin-top: 0px;
            padding: 0 10px;
            background-color: #444444;
            border-radius: 10px;
            color: #ffffff;
            overflow: hidden;
            transform: scaleY(0.8);
            transform-origin: top;
            transition: opacity 0.4s ease, max-height 0.4s ease, transform 0.4s ease;
        }

        .dropdown-content.show {
            opacity: 1;
            max-height: 200px;
            padding: 10px;
            transform: scaleY(1);
        }

        .rotate {
            transform: rotate(180deg);
            transition: transform 0.3s ease;
        }
        .parent-container {
    display: flex;
    flex-wrap: wrap;
}
.popup-container {
    display: none;
    position: fixed;
    top: 50%;
    left: 50%;
    width: 90vw;
    height: 90vh;
    transform: translate(-50%, -50%);
    background-color: #000;
    border-radius: 20px;
    overflow: hidden;
    box-shadow: 0 0 20px rgba(0, 0, 0, 0.8);
    z-index: 1002;
  }
.jks {
  display: flex;
  justify-content: space-between;
}
@media (min-width: 768px) {
  .jks {
    margin-left: auto; /* Push to the right */
  }
}
  /* Close button */
  .close-button {
    position: absolute;
    top: 10px;
    right: 10px;
    background: none;
    border: none;
    color: #fff;
    font-size: 20px;
    cursor: pointer;
    z-index: 1003;
  }

  /* Spinner */
  .spinner {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    color: #fff;
    z-index: 1001;
  }

  /* Iframe */
  #channelIframe {
    width: 100%;
    height: 100%;
    border: none;
    display: none; /* Hide initially until fully loaded */
  }
  /* Trending Container Styling */
#trending-container {
  padding: 80px 20px 20px;
  display: grid;
  grid-template-columns: 1fr; /* Default to 1 column on small screens */
  gap: 20px;
}

/* Tiga kolom untuk layar besar */
@media (min-width: 1024px) {
  #trending-container {
    grid-template-columns: 1fr 1fr 1fr; /* Tiga kolom */
  }
}
  </style>
</head>
<body>

<!-- Navbar -->
<div class="navbar">
  <div class="logo" style='display:flex;justify-content: center;align-items:center;'><img src="https://ik.imagekit.io/m2aks7bvm/20250115_150020_2b7ZBX2CQ.png?updatedAt=1736928051930" style="width:40px;height:40px;">VATube</div>
  <div class="search-container">
    <input type="text" id="searchInput" placeholder="Search...">
    <button class="search-button" onclick="searchYouTube()"><i class="fas fa-search"></i></button>
  </div>
  
</div>
<!-- Search Results -->
<center><div class="results-container" id="results"></div>
<img src="https://ik.imagekit.io/m2aks7bvm/20250115_145235_JeuNwjoH-.png?updatedAt=1736927573777" alt="vatube" width="300" height="50" style="margin:0;"/><div id="video-container" class="video-container"></div>
<div id="profilePopup" class="popup-container">
  <button onclick="closePopup()" class="close-button"><i class="fas fa-times"></i></button>
  <div id="spinner" class="spinner"><i class="fas fa-circle-notch fa-spin fa-3x"></i></div>
  <iframe id="channelIframe" allowfullscreen></iframe>
</div>
</center>

<!-- Fullscreen Video -->
<div id="fullscreenVideo" class="fullscreen-video">
  <button onclick="closeFullscreen()" class="back-button"><i class="fas fa-arrow-left"></i> Back</button>
  <iframe id="videoPlayer" allowfullscreen></iframe>
</div>




<script>
    const API_KEY = 'AIzaSyAR3lc2KvFQCaOSFogZRAHOx9C-Zxl0MwE';

    // Search Function
    function searchYouTube() {
        // Show loading spinner
        const searchButton = document.querySelector('.search-button i');
        searchButton.classList.remove('fas', 'fa-search');
        searchButton.classList.add('fas', 'fa-circle-notch', 'fa-spin'); // Add spinner class

        const query = document.getElementById('searchInput').value;
        const url = `https://www.googleapis.com/youtube/v3/search?part=snippet&q=${query}&type=video&key=${API_KEY}&maxResults=20`;

        fetch(url)
            .then(response => response.json())
            .then(data => {
                displayResults(data.items);
                // Revert to search icon once done
                searchButton.classList.remove('fa-circle-notch', 'fa-spin');
                searchButton.classList.add('fa-search');
            })
            .catch(error => {
                alert("ERROR : Terjadi kesalahan kami akan segera membetulkan nya")
                console.error('Error:', error);
                // Revert to search icon on error
                searchButton.classList.remove('fa-circle-notch', 'fa-spin');
                searchButton.classList.add('fa-search');
            });
    }

    // Function to display search results
    function displayResults(videos) {
    const resultsContainer = document.getElementById('results');
    resultsContainer.innerHTML = '';

    videos.forEach(video => {
        const videoId = video.id.videoId;
        const thumbnail = video.snippet.thumbnails.medium.url;
        const title = video.snippet.title;
        const channelId = video.snippet.channelId;
        const uploadDate = formatUploadDate(video.snippet.publishedAt);

        fetch(`https://www.googleapis.com/youtube/v3/videos?part=contentDetails,statistics&id=${videoId}&key=${API_KEY}`)
            .then(response => response.json())
            .then(videoData => {
                const duration = videoData.items[0].contentDetails.duration;
                const formattedDuration = formatDuration(duration);
                const viewCount = formatNumber(videoData.items[0].statistics.viewCount);

                fetch(`https://www.googleapis.com/youtube/v3/channels?part=snippet,statistics&id=${channelId}&key=${API_KEY}`)
                    .then(response => response.json())
                    .then(channelData => {
                        const profilePic = channelData.items[0].snippet.thumbnails.default.url;
                        const channelTitle = video.snippet.channelTitle;

                        const item = document.createElement('div');
                        item.className = 'result-item';
                        item.innerHTML = `
                          <div class="thumbnail">
                            <img src="${thumbnail}" alt="Thumbnail">
                            <div class="video-duration">${formattedDuration}</div>
                          </div>
                          <div class="result-info">
                            <div class="result-title">${title}</div>
                            <div class="parent-container">
                              <div class="result-profile">
                                <!-- Make profile picture clickable to open pop-up -->
                                <img src="${profilePic}" alt="Profile" class="profile-pic">
<span class="channel-title">${channelTitle} </span>
                        <span class='jks'><div class='huis'> ${uploadDate}</div><div class='huis'>${viewCount} Views</div></span>      
                              </div>
                            </div>
                          </div>
                        `;
                        item.onclick = () => playVideo(videoId);
                        resultsContainer.appendChild(item);
                    });
            });
    });
}

// Open the pop-up and load the channel iframe
function openPopup(channelId) {
    const profilePopup = document.getElementById('profilePopup');
    const channelIframe = document.getElementById('channelIframe');
    const spinner = document.getElementById('spinner');

    profilePopup.style.display = 'block';
    spinner.style.display = 'block'; // Show spinner

    // Load the channel in a regular YouTube URL
    const newUserAgent = 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/107.0.0.0 Safari/537.36';
    navigator.__defineGetter__('userAgent', () => newUserAgent);

    channelIframe.src = `https://m.youtube.com/channel/${channelId}`;
    channelIframe.onload = () => {
        spinner.style.display = 'none'; // Hide spinner
        channelIframe.style.display = 'block';
    };
}

// Close the pop-up
function closePopup() {
    const profilePopup = document.getElementById('profilePopup');
    const channelIframe = document.getElementById('channelIframe');
    
    channelIframe.src = ''; // Clear the iframe src to stop video loading
    profilePopup.style.display = 'none';
    channelIframe.style.display = 'none';
}

    function formatUploadDate(dateString) {
        const date = new Date(dateString);
        const now = new Date();
        const diffTime = Math.abs(now - date);
        const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24));

        if (diffDays < 30) return `${diffDays} days ago`;
        const diffMonths = Math.floor(diffDays / 30);
        if (diffMonths < 12) return `${diffMonths} months ago`;
        const diffYears = Math.floor(diffMonths / 12);
        return `${diffYears} years ago`;
    }

    function formatDuration(duration) {
        const match = duration.match(/PT(\d+H)?(\d+M)?(\d+S)?/);
        const hours = match[1] ? match[1].replace('H', '') : '00';
        const minutes = match[2] ? match[2].replace('M', '') : '00';
        const seconds = match[3] ? match[3].replace('S', '') : '00';

        return `${hours.padStart(2, '0')}:${minutes.padStart(2, '0')}:${seconds.padStart(2, '0')}`;
    }

    function formatNumber(num) {
        return num >= 1e6 ? (num / 1e6).toFixed(1) + 'M' :
            num >= 1e3 ? (num / 1e3).toFixed(1) + 'K' : num;
    }

    function playVideo(videoId) {
        const videoPlayer = document.getElementById('videoPlayer');
        const fullscreen = document.getElementById('fullscreenVideo');
        videoPlayer.src = `https://www.youtube.com/embed/${videoId}?autoplay=1&controls=1&modestbranding=1&showinfo=0&rel=0`;
        fullscreen.style.display = 'flex';
    }

    function closeFullscreen() {
        const fullscreen = document.getElementById('fullscreenVideo');
        const videoPlayer = document.getElementById('videoPlayer');
        videoPlayer.src = ''; // Stop the video
        fullscreen.style.display = 'none';
    }
    function toggleDropdown() {
            const dropdownContent = document.getElementById("dropdownContent");
            const chevronIcon = document.getElementById("chevronIcon");
            
            dropdownContent.classList.toggle("show");
            chevronIcon.classList.toggle("rotate");
        }
       const regionCode = 'ID'; // Ganti sesuai dengan negara yang diinginkan, misalnya 'US' untuk Amerika Serikat
const maxResults = 30; // Jumlah video yang ingin ditampilkan

async function fetchTrendingVideos() {
    const ursl = `https://www.googleapis.com/youtube/v3/videos?part=snippet,statistics&chart=mostPopular&regionCode=${regionCode}&maxResults=${maxResults}&key=${API_KEY}`;

    try {
        const response = await fetch(ursl);
        const data = await response.json();
        displayVideos(data.items);
    } catch (error) {
        console.error('Error fetching trending videos:', error);
    }
}

function displayVideos(videos) {
    const container = document.getElementById('video-container'); // Ganti ID
    container.innerHTML = ''; // Hapus konten lama (jika ada)

    videos.forEach(video => {
        const videoId = video.id;
        const thumbnail = video.snippet.thumbnails.medium.url;
        const title = video.snippet.title;
        const channelId = video.snippet.channelId;
        const uploadDate = formatUploadDate(video.snippet.publishedAt);
        const viewCount = formatNumber(video.statistics.viewCount);

        fetch(`https://www.googleapis.com/youtube/v3/videos?part=contentDetails&id=${videoId}&key=${API_KEY}`)
            .then(response => response.json())
            .then(videoData => {
                const duration = videoData.items[0].contentDetails.duration;
                const formattedDuration = formatDuration(duration);

                fetch(`https://www.googleapis.com/youtube/v3/channels?part=snippet&id=${channelId}&key=${API_KEY}`)
                    .then(response => response.json())
                    .then(channelData => {
                        const profilePic = channelData.items[0].snippet.thumbnails.default.url;
                        const channelTitle = video.snippet.channelTitle;

                        const item = document.createElement('div');
                        item.className = 'result-item';
                        item.innerHTML = `
                                                    <div class="thumbnail">
                            <img src="${thumbnail}" alt="Thumbnail">
                            <div class="video-duration">${formattedDuration}</div>
                          </div>
                          <div class="result-info">
                            <div class="result-title">${title}</div>
                            <div class="parent-container">
                              <div class="result-profile">
                                <!-- Make profile picture clickable to open pop-up -->
                                <img src="${profilePic}" alt="Profile" class="profile-pic">
<span class="channel-title">${channelTitle} </span>
                        <span class='jks'><div class='huis'> ${uploadDate}</div><div class='huis'>${viewCount} Views</div></span>      
                              </div>
                            </div>
                          </div>
                        `;

                        item.onclick = () => playVideo(videoId);
                        container.appendChild(item);
                    });
            });
    });
}

// Panggil fetchTrendingVideos saat halaman dimuat
window.addEventListener('load', fetchTrendingVideos); 
</script>



</body>
</html>
